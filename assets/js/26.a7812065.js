(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{403:function(a,t,s){a.exports=s.p+"assets/img/jvisualvm图示1.15a934ab.jpg"},585:function(a,t,s){"use strict";s.r(t);var v=s(42),e=Object(v.a)({},(function(){var a=this,t=a.$createElement,v=a._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("h1",{attrs:{id:"jvisualvm简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#jvisualvm简介"}},[a._v("#")]),a._v(" jvisualvm简介")]),a._v(" "),v("p",[a._v("jdk自带的监控应用, 常用于监控java应用性能, 内存消耗, 线程状态等指标")]),a._v(" "),v("h1",{attrs:{id:"使用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),v("p",[a._v("使用环境: win10")]),a._v(" "),v("h2",{attrs:{id:"如何找到它"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#如何找到它"}},[a._v("#")]),a._v(" 如何找到它")]),a._v(" "),v("blockquote",[v("p",[a._v("win10默认安装在C:\\Program Files\\Java\\jdk1.8.0_211\\bin下")])]),a._v(" "),v("p",[a._v("jdk的bin目录下, 就可以找到它(jvisualvm)")]),a._v(" "),v("h2",{attrs:{id:"监控本地应用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#监控本地应用"}},[a._v("#")]),a._v(" 监控本地应用")]),a._v(" "),v("p",[a._v("打开默认会扫描本地所有的java进程, 在左侧边栏的"),v("code",[a._v("本地")]),a._v("目录下变可以发现, 此处不赘述.")]),a._v(" "),v("h2",{attrs:{id:"监控远程应用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#监控远程应用"}},[a._v("#")]),a._v(" 监控远程应用")]),a._v(" "),v("ol",[v("li",[a._v("远程应用要被jvisualvm连接上, 必须要开始JMX连接, 这里暂时只介绍linux上如何给对应jar开启JMX连接.")])]),a._v(" "),v("blockquote",[v("p",[a._v("输入以下命令, 开启了JMX连接, 端口为41222")])]),a._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[a._v("nohup java -Xms512M -Xmx512M\\\n-jar -Dcom.sun.management.jmxremote.port=41222\\\n-Dcom.sun.management.jmxremote.ssl=false\\\n-Dcom.sun.management.jmxremote.authenticate=false\\\n-Djava.rmi.server.hostname=192.168.123.11 /usr/local/springboot-1.0-SNAPSHOT.jar\n--spring.profiles.active=dev >> log/springboot-1.0-SNAPSHOT.log 2>&1 &\n")])])]),v("blockquote",[v("p",[a._v("解释一下上述命令:")]),a._v(" "),v("blockquote",[v("p",[v("code",[a._v("nohup和命令最后面的&")]),a._v(" 是后台daemon的方式启动"),v("br"),a._v(" "),v("code",[a._v("末尾反斜杠\\")]),a._v(" 是linux命令换行, 可以让下一行接着本行, 如果命令太长, 经常会使用换行来调整格式"),v("br"),a._v(" "),v("code",[a._v(">>")]),a._v(" 是将启动输出的log指向特定的log文件"),v("br"),a._v(" "),v("code",[a._v("2>&1")]),a._v(" "),v("br")])])]),a._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[a._v("要监控远程应用先要在"),v("code",[a._v("远程")]),a._v("目录下添加远程主机, 如下图示1所示.")])]),a._v(" "),v("p",[v("img",{attrs:{src:s(403),alt:"图示1"}})]),a._v(" "),v("ol",{attrs:{start:"3"}},[v("li",[a._v("再在远程主机上添加JMX连接, 此处一般只要输入"),v("code",[a._v("<主机名>:<端口>")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);