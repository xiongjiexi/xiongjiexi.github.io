(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{492:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"zookeeper入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper入门"}},[t._v("#")]),t._v(" zookeeper入门")]),t._v(" "),s("h2",{attrs:{id:"zk配置文件说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zk配置文件说明"}},[t._v("#")]),t._v(" zk配置文件说明")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("dataDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/home/jesse/kafka/zookeeper/zk1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志目录，不能存放在比较繁忙的设备上，会影响性能")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("dataLogDir")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/home/jesse/kafka/log/zk1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# the port at which the clients will connect")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("clientPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("2181")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# disable the per-ip limit on the number of connections since this is a non-production config")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 限制zookeeper的客户端链接数量,设置为0或者不设置表示取消对并发连接的设置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("maxClientCnxns")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("100")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最小会话超时时间和最大会话超时时间")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("minSessionTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("4000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("maxSessionTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10000")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Disable the adminserver by default to avoid port conflicts.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Set the port to something non-conflicting if choosing to enable this")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# admin.enableServer=false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# admin.serverPort=8080")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server.id 其中id表示这是第几号server,用来做集群中的区别的192.168.9.103是该server所在的ip地址；2888是该server和集群leader通信端口，3888是选举leader的端口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("server.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("192.168.3.29:2881:3881")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("server.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("192.168.3.29:2882:3882")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("server.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("192.168.3.29:2883:3883")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("tickTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("2000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("initLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("syncLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("5")]),t._v("\n")])])]),s("h3",{attrs:{id:"datadir中的myid文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datadir中的myid文件"}},[t._v("#")]),t._v(" dataDir中的myid文件")]),t._v(" "),s("p",[t._v("写入一个数字，表示第几个server，与zk.properties中server.id的id对应。")]),t._v(" "),s("h2",{attrs:{id:"同一台机器上启动三个zk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同一台机器上启动三个zk"}},[t._v("#")]),t._v(" 同一台机器上启动三个zk")]),t._v(" "),s("ul",[s("li",[t._v("clientPort要设置3个不同的端口")]),t._v(" "),s("li",[t._v("server.id要设置三个不同端口")])])])}),[],!1,null,null,null);a.default=n.exports}}]);