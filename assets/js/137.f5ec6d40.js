(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{540:function(r,e,s){"use strict";s.r(e);var a=s(42),t=Object(a.a)({},(function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[s("h1",{attrs:{id:"docker入门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker入门"}},[r._v("#")]),r._v(" docker入门")]),r._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#docker安装mysql"}},[r._v("docker安装MySQL")])]),s("li",[s("a",{attrs:{href:"#arm平台用docker安装mysql"}},[r._v("arm平台用docker安装mysql")])]),s("li",[s("a",{attrs:{href:"#docker配置国内镜像加速"}},[r._v("docker配置国内镜像加速")]),s("ul",[s("li",[s("a",{attrs:{href:"#修改daemon配置文件"}},[r._v("修改daemon配置文件")])]),s("li",[s("a",{attrs:{href:"#使配置生效"}},[r._v("使配置生效")])])])]),s("li",[s("a",{attrs:{href:"#docker中安装-使用redis"}},[r._v("docker中安装&使用redis")])]),s("li",[s("a",{attrs:{href:"#docker指定容器运行端口映射"}},[r._v("docker指定容器运行端口映射")])]),s("li",[s("a",{attrs:{href:"#基础命令"}},[r._v("基础命令")]),s("ul",[s("li",[s("a",{attrs:{href:"#docker-search"}},[r._v("docker search")])]),s("li",[s("a",{attrs:{href:"#docker-pull"}},[r._v("docker pull")])]),s("li",[s("a",{attrs:{href:"#docker-run"}},[r._v("docker run")])]),s("li",[s("a",{attrs:{href:"#docker-ps"}},[r._v("docker  ps")])]),s("li",[s("a",{attrs:{href:"#docker-images-options-repository"}},[r._v("docker images  [options] [repository]")])]),s("li",[s("a",{attrs:{href:"#docker-inspect-options-container-image"}},[r._v("docker inspect [options] container|image")])]),s("li",[s("a",{attrs:{href:"#docker-start"}},[r._v("docker start")])]),s("li",[s("a",{attrs:{href:"#docker-stop"}},[r._v("docker stop")])]),s("li",[s("a",{attrs:{href:"#docker-exec"}},[r._v("docker exec")])]),s("li",[s("a",{attrs:{href:"#docker-rm"}},[r._v("docker rm")])]),s("li",[s("a",{attrs:{href:"#docker-rmi"}},[r._v("docker rmi")])]),s("li",[s("a",{attrs:{href:"#docker-logs"}},[r._v("docker logs")])]),s("li",[s("a",{attrs:{href:"#docker-top"}},[r._v("docker top")])]),s("li",[s("a",{attrs:{href:"#man查看使用手册"}},[r._v("man查看使用手册")])])])])])]),s("p"),r._v(" "),s("h2",{attrs:{id:"docker安装mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql"}},[r._v("#")]),r._v(" docker安装MySQL")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker pull mysql:5.7.28\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker run -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("3306")]),r._v(":3306 --name mysql-jesse -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[r._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("a123456 mysql:5.7.28\n")])])]),s("h2",{attrs:{id:"arm平台用docker安装mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arm平台用docker安装mysql"}},[r._v("#")]),r._v(" arm平台用docker安装mysql")]),r._v(" "),s("p",[r._v("https://hub.docker.com/r/beercan1989/arm-mysql")]),r._v(" "),s("p",[r._v("1.使用docker仓库中的arm mysql镜像> docker pull beercan1989/arm-mysql")]),r._v(" "),s("p",[r._v("2.启动")]),r._v(" "),s("p",[r._v("临时启动")]),r._v(" "),s("p",[r._v("docker run -it \\ -e 'MYSQL_ROOT_PASSWORD=123456' \\ -e 'MYSQL_DATABASE=test' \\ -e 'MYSQL_USER=jesse' \\ -e 'MYSQL_PASSWORD=123456' \\ -p '3306:3306' \\ --name mysql \\beercan1989/arm-mysql:latest")]),r._v(" "),s("p",[r._v("volume mounted 启动")]),r._v(" "),s("p",[r._v("docker run -it \\ -e 'MYSQL_ROOT_PASSWORD=123456' \\ -e 'MYSQL_DATABASE=test' \\ -e 'MYSQL_USER=jesse' \\ -e 'MYSQL_PASSWORD=123456' \\ -p '3306:3306' \\ --name mysql \\ -v datadir:/home/jesse/mysql \\beercan1989/arm-mysql:latest")]),r._v(" "),s("h2",{attrs:{id:"docker配置国内镜像加速"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker配置国内镜像加速"}},[r._v("#")]),r._v(" docker配置国内镜像加速")]),r._v(" "),s("blockquote",[s("p",[r._v("以下仅在ubuntu使用过")])]),r._v(" "),s("h3",{attrs:{id:"修改daemon配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改daemon配置文件"}},[r._v("#")]),r._v(" 修改daemon配置文件")]),r._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("sudo")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("mkdir")]),r._v(" -p /etc/docker\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("sudo")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("tee")]),r._v(" /etc/docker/daemon.json "),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("<<-")]),s("span",{pre:!0,attrs:{class:"token string"}},[r._v('\'EOF\'\n{\n  "registry-mirrors": ["https://xxxx.mirror.aliyuncs.com"]\n}\nEOF')]),r._v("\n")])])]),s("h3",{attrs:{id:"使配置生效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使配置生效"}},[r._v("#")]),r._v(" 使配置生效")]),r._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("sudo")]),r._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("sudo")]),r._v(" systemctl restart docker\n")])])]),s("h2",{attrs:{id:"docker中安装-使用redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker中安装-使用redis"}},[r._v("#")]),r._v(" docker中安装&使用redis")]),r._v(" "),s("ol",[s("li",[r._v("查找redis镜像> docker search redis")]),r._v(" "),s("li",[r._v("拉取redis镜像> docker pull redis")]),r._v(" "),s("li",[r._v("查看拉取是否成功> docker images")]),r._v(" "),s("li",[r._v("启动redis镜像> docker run -p6379:6379 -d redis:latest redis-server")]),r._v(" "),s("li",[r._v("查看容器启动情况> docker ps")]),r._v(" "),s("li",[r._v("连接redis的几种方式")])]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[r._v("docker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[r._v("exec")]),r._v(" -ti d0b86 redis-cli\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[r._v("exec")]),r._v(" -ti d0b86 redis-cli -h localhost -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("6379")]),r._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[r._v("exec")]),r._v(" -ti d0b86 redis-cli -h "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("127.0")]),r._v(".0.1 -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("6379")]),r._v("\ndocker "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[r._v("exec")]),r._v(" -ti d0b86 redis-cli -h "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("172.17")]),r._v(".0.3 -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("6379")]),r._v("\n// 注意，这个是容器运行的ip，可通过 docker inspect redis_s "),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("|")]),r._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[r._v("grep")]),r._v(" IPAddress 查看\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[s("p",[r._v("使用docker执行命令连接到启动的容器> docker exec -it redis_s redis-cli")])]),r._v(" "),s("li",[s("p",[r._v("远程连接的方式> docker exec -it redis_s redis-cli -h 192.168.1.100 -p 6379 -a your_password //如果有密码 使用 -a参数")])])]),r._v(" "),s("h2",{attrs:{id:"docker指定容器运行端口映射"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker指定容器运行端口映射"}},[r._v("#")]),r._v(" docker指定容器运行端口映射")]),r._v(" "),s("p",[r._v("\\1. 指定容器端口, 宿主机端口随机映射> docker run -p80 -i -t ubuntu /bin/bash")]),r._v(" "),s("p",[r._v("\\2. 同时指定宿主机和容器端口, 两者一一对应> docker run -p 8080:80 -i-t ubuntu /bin/bash")]),r._v(" "),s("p",[r._v("\\3. 指定ip和容器端口> docker run -p 0.0.0.0:80 -i -t ubuntu /bin/bash")]),r._v(" "),s("p",[r._v("\\4. 指定ip, 宿主机端口, 容器端口都指定> docker run -p 0.0.0.0:8080:80 -i -t ubuntu /bin/bash")]),r._v(" "),s("h2",{attrs:{id:"基础命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础命令"}},[r._v("#")]),r._v(" 基础命令")]),r._v(" "),s("h3",{attrs:{id:"docker-search"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-search"}},[r._v("#")]),r._v(" docker search")]),r._v(" "),s("blockquote",[s("p",[r._v("需要使用哪个镜像, 直接使用search搜索")])]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker search mysql\n")])])]),s("h3",{attrs:{id:"docker-pull"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-pull"}},[r._v("#")]),r._v(" docker pull")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# 直接pull latest镜像")]),r._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker pull mysql\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# pull指定tag镜像 image:tag")]),r._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker pull mysql:5.7.28\n")])])]),s("h3",{attrs:{id:"docker-run"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-run"}},[r._v("#")]),r._v(" docker run")]),r._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# 示例1, 启动mysql镜像")]),r._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker run -p "),s("span",{pre:!0,attrs:{class:"token number"}},[r._v("3306")]),r._v(":3306 --name mysql-jesse -e "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[r._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v("=")]),r._v("a123456 mysql:5.7.28\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# 示例2, 启动redis镜像")]),r._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker run -p6379:6379 -d redis:latest redis-server\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# -i是开启交互式  -t表示分配一个tty伪终端")]),r._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[r._v(">")]),r._v(" docker run -it -v /宿主机绝对路径目录:/容器内目录 镜像名\n")])])]),s("h3",{attrs:{id:"docker-ps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-ps"}},[r._v("#")]),r._v(" docker  ps")]),r._v(" "),s("blockquote",[s("p",[r._v("查看容器启动进程情况")]),r._v(" "),s("p",[r._v("如果要查看上次停掉的容器进程，需要使用"),s("code",[r._v("docker ps -a")])])]),r._v(" "),s("h3",{attrs:{id:"docker-images-options-repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-images-options-repository"}},[r._v("#")]),r._v(" docker images  [options] [repository]")]),r._v(" "),s("blockquote",[s("p",[r._v("查看镜像")]),r._v(" "),s("p",[r._v("-a, --all=false\n-f, --filter=[]\n--no-trunc=false\n-q, --quiet=false")])]),r._v(" "),s("h3",{attrs:{id:"docker-inspect-options-container-image"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-inspect-options-container-image"}},[r._v("#")]),r._v(" docker inspect [options] container|image")]),r._v(" "),s("blockquote",[s("p",[r._v("查看镜像信息")]),r._v(" "),s("p",[r._v('-f, --format=""\n--no-prune=false')])]),r._v(" "),s("h3",{attrs:{id:"docker-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-start"}},[r._v("#")]),r._v(" docker start")]),r._v(" "),s("blockquote",[s("p",[r._v("启动停止的容器")]),r._v(" "),s("p",[s("code",[r._v("docker start [CONTAINER ID|NAMES]")])])]),r._v(" "),s("h3",{attrs:{id:"docker-stop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-stop"}},[r._v("#")]),r._v(" docker stop")]),r._v(" "),s("blockquote",[s("p",[r._v("停止运行的容器")])]),r._v(" "),s("h3",{attrs:{id:"docker-exec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-exec"}},[r._v("#")]),r._v(" docker exec")]),r._v(" "),s("blockquote",[s("p",[r._v("为运行中容器启动新的进程命令")])]),r._v(" "),s("h3",{attrs:{id:"docker-rm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-rm"}},[r._v("#")]),r._v(" docker rm")]),r._v(" "),s("blockquote",[s("p",[r._v("删除容器")])]),r._v(" "),s("h3",{attrs:{id:"docker-rmi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-rmi"}},[r._v("#")]),r._v(" docker rmi")]),r._v(" "),s("blockquote",[s("p",[r._v("删除镜像")])]),r._v(" "),s("h3",{attrs:{id:"docker-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-logs"}},[r._v("#")]),r._v(" docker logs")]),r._v(" "),s("blockquote",[s("p",[r._v("查看容器日志")])]),r._v(" "),s("h3",{attrs:{id:"docker-top"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-top"}},[r._v("#")]),r._v(" docker top")]),r._v(" "),s("blockquote",[s("p",[r._v("查看容器进程")])]),r._v(" "),s("h3",{attrs:{id:"man查看使用手册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#man查看使用手册"}},[r._v("#")]),r._v(" man查看使用手册")]),r._v(" "),s("blockquote",[s("p",[r._v("man docker-run\nman docker-exec")])])])}),[],!1,null,null,null);e.default=t.exports}}]);